---
title: "shinyDepMap"
runtime: shiny_prerendered
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    theme: cerulean
---

```{r setup, context="setup",include=FALSE}
library(shiny) 
library(flexdashboard) # devtools::install_github('rstudio/flexdashboard')
library(ggplot2) # devtools::install_github('hadley/ggplot2')
library(grid)
library(RColorBrewer)
library(shinyWidgets)
library(plotly)
library(DT)
library(visNetwork)
# library(aws.s3)
library(tibble)
library(dplyr)
library(tidyr)
```

```{r global, context="data"}
x <- load("data/depmap_initial_19q3_local_run.rda")
```
Efficacy-Selectivity (all genes)
============================================================================
Sidebar {.sidebar}
-----------------------------------------------------------------------
```{r all_sidebar, child="rmd_depmap/all_input_sidebar.Rmd"}
```

Column {data-width=600}
-----------------------------------------------------------------------
### Efficacy/Selectivity (15,847 genes)

```{r all_eff_sel, child="rmd_depmap/all_efficacy_selectivity.Rmd"}
```

Column {.tabset data-width=400}
-----------------------------------------------------------------------
### Gene list
```{r all_gene_list, child="rmd_depmap/all_gene_list.Rmd"}
```

### Lineage
```{r all_lineage, child="rmd_depmap/all_lineage.Rmd"}
```

Functional clusters (essential genes only)
============================================================================
Sidebar {.sidebar}
-----------------------------------------------------------------------
```{r ess_sidebar, child="rmd_depmap/ess_input_sidebar.Rmd"}
```

Column {data-width=500}
-----------------------------------------------------------------------
### Efficacy/Selectivity (2,492 essential genes)
```{r ess_eff_sel, child="rmd_depmap/ess_efficacy_selectivity.Rmd"}
```

### Functional similarity (t-SNE of 2,492 essential genes)
```{r ess_rtsne, child="rmd_depmap/ess_rtsne.Rmd"}
```

Column {.tabset data-width=500}
-----------------------------------------------------------------------
### Gene list
```{r ess_gene_list, child="rmd_depmap/ess_gene_list.Rmd"}
```

### Lineage
```{r ess_lineage, child="rmd_depmap/ess_lineage.Rmd"}
```

### Intra-cluster correlation
```{r ess_intra_cluster, child="rmd_depmap/ess_intra_cluster.Rmd"}
```


### Inter-cluster correlation
```{r ess_inter_cluster, child="rmd_depmap/ess_inter_cluster.Rmd"}
```

About
============================================================================
shinyDepMap has been made based on 19q3 release of the [DepMap](http://depmap.org) project. It is maintained by [Kenichi Shimada](mailto:kenichi_shimada[at]hms.harvard.edu).

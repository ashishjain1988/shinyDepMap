---
title: "shinyDepMap"
runtime: shiny_prerendered
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    theme: cerulean
---

```{r setup, context="setup",include=FALSE}
library(shiny) ## shiny
library(flexdashboard) # devtools::install_github('rstudio/flexdashboard')
library(ggplot2) # devtools::install_github('hadley/ggplot2')
library(grid)
library(RColorBrewer)
library(shinyWidgets)
library(plotly)
library(DT)
library(aws.s3)
library(tibble)
library(dplyr)
library(tidyr)
```

```{r global, context="data"}
x <- load("data/depmap_initial_19q2.rda")
```

All genes
============================================================================
Sidebar {.sidebar}
-----------------------------------------------------------------------
```{r sidebar1, child="rmd_depmap/all_genes_sidebar.Rmd"}
```

Column {data-width=600}
-----------------------------------------------------------------------
### Efficacy/Selectivity

```{r summary_q10_r80_all, child="rmd_depmap/efficacy_selectivity_summary_all.Rmd"}
```

Column {.tabset data-width=400}
-----------------------------------------------------------------------
### Gene sets
```{r gene_sets_all, child="rmd_depmap/gene_sets_all.Rmd"}
```

### Lineage
```{r lineage_all, child="rmd_depmap/lineage_all.Rmd"}
```


Essential genes
============================================================================
Sidebar {.sidebar}
-----------------------------------------------------------------------
```{r sidebar2, child="rmd_depmap/ess_genes_sidebar.Rmd"}
```

Column {data-width=500}
-----------------------------------------------------------------------
### Efficacy/Selectivity
```{r summary_q10_r80, child="rmd_depmap/efficacy_selectivity_summary.Rmd"}
```

### tSNE (2,308 essential genes)
```{r rtsne, child="rmd_depmap/rtsne.Rmd"}
```

Column {.tabset data-width=500}
-----------------------------------------------------------------------
### Gene sets
```{r gene_sets, child="rmd_depmap/gene_sets.Rmd"}
```

### Lineage
```{r lineage, child="rmd_depmap/lineage.Rmd"}
```

### Inter-cluster correlation
```{r Inter_cluster, child="rmd_depmap/inter_cluster.Rmd"}
```

About
============================================================================
This Shiny app has been made based on 19q2 release of [DepMap](http://depmap.org) data, and maintained by [Kenichi Shimada](mailto:kenichi_shimada@hms.harvard.edu).
